<section class="dedicated-carousel-section" [class.rtl-mode]="isRTL">
  <div class="container">
    <!-- Header -->
    <div class="section-header">
      <div class="header-badge">
        <i class="fas fa-server"></i>
        <span>{{ translations.enterpriseSolutions }}</span>
      </div>
      <h2>{{ translations.premiumDedicatedServers }}</h2>
      <p>{{ translations.dedicatedDesc }}</p>
    </div>

    <!-- Loading -->
    <div *ngIf="dedicatedLoading" class="text-center py-5">
      <div class="spinner-dedicated"></div>
      <p class="mt-3 text-muted">{{ translations.loadingDedicated }}</p>
    </div>

    <!-- Error -->
    <div *ngIf="dedicatedError && !dedicatedLoading" class="text-center py-5 text-danger">
      {{ dedicatedError }}
    </div>

    <!-- Carousel -->
    <div *ngIf="!dedicatedLoading && !dedicatedError && dedicatedServers.length" class="dedicated-carousel-wrapper">

      <button class="carousel-btn-dedicated prev-btn-dedicated" (click)="slideLeft()">
        <i class="fas fa-chevron-left"></i>
      </button>

      <div class="dedicated-carousel-container">
        <div class="dedicated-carousel-track" [style.transform]="getCarouselTransform()">
          <div *ngFor="let server of dedicatedServers" class="dedicated-card">

            <div class="premium-badge" *ngIf="server.featured">
              <i class="fas fa-crown"></i>
              <span>{{ translations.premiumChoice }}</span>
            </div>

            <div class="dedicated-card-header">
              <div class="server-icon"><i class="fas fa-server"></i></div>
              <h3 class="dedicated-plan-name">{{ server.name }}</h3>
              <p class="dedicated-plan-desc">{{ server.description || server.brand || 'Enterprise-grade dedicated server' }}</p>
            </div>

            <div class="dedicated-card-body">
              <div class="dedicated-price-block">
                <div class="price-label">{{ translations.startingAt }}</div>
                <div class="price-main-dedicated">
                  <sup class="currency">$</sup>
                  <span class="amount">{{ server.price }}</span>
                  <sub class="period">/mo</sub>
                </div>
                <div class="price-note-dedicated" *ngIf="server.oldPrice">
                  <del>${{ server.oldPrice }}/mo</del>
                  <span class="save-dedicated">{{ getSaveText(server) }}</span>
                </div>
              </div>

              <div class="specs-grid">
                <!-- FIXED: Use correct property names from backend -->
                <div class="spec-item">
                  <i class="fas fa-microchip"></i>
                  <div>
                    <span class="spec-label">{{ translations.processor }}</span>
                    <span class="spec-value">{{ server.brand || server.cpuModel || 'Enterprise CPU' }}</span>
                  </div>
                </div>

                <div class="spec-item">
                  <i class="fas fa-server"></i>
                  <div>
                    <span class="spec-label">{{ translations.cores }}</span>
                    <span class="spec-value">{{ server.cores }} {{ translations.core }}{{ server.cores !== 1 ? 's' : '' }}</span>
                  </div>
                </div>

                <div class="spec-item">
                  <i class="fas fa-memory"></i>
                  <div>
                    <span class="spec-label">{{ translations.ramLabel }}</span>
                    <span class="spec-value">{{ server.ramGB }} GB</span>
                  </div>
                </div>

                <div class="spec-item">
                  <i class="fas fa-hdd"></i>
                  <div>
                    <span class="spec-label">{{ translations.storageLabel }}</span>
                    <span class="spec-value">{{ server.storage || server.storageGB + ' GB' }}</span>
                  </div>
                </div>

                <div class="spec-item" *ngIf="server.bandwidth">
                  <i class="fas fa-network-wired"></i>
                  <div>
                    <span class="spec-label">{{ translations.bandwidthLabel }}</span>
                    <span class="spec-value">{{ server.bandwidth }}</span>
                  </div>
                </div>

                <div class="spec-item" *ngIf="server.connectionSpeed">
                  <i class="fas fa-gauge-high"></i>
                  <div>
                    <span class="spec-label">Connection</span>
                    <span class="spec-value">{{ server.connectionSpeed }}</span>
                  </div>
                </div>

                <div class="spec-item" *ngIf="server.ipAddresses">
                  <i class="fas fa-globe"></i>
                  <div>
                    <span class="spec-label">{{ translations.ipAddresses }}</span>
                    <span class="spec-value">{{ server.ipAddresses }}</span>
                  </div>
                </div>

                <div class="spec-item" *ngIf="server.location">
                  <i class="fas fa-map-marker-alt"></i>
                  <div>
                    <span class="spec-label">{{ translations.locationLabel }}</span>
                    <span class="spec-value">{{ server.location }}</span>
                  </div>
                </div>
              </div>

              <div class="features-highlight">
                <div class="feature-badge">
                  <i class="fas fa-shield-alt"></i>
                  <span>{{ translations.fullRootAccess }}</span>
                </div>
                <div class="feature-badge">
                  <i class="fas fa-clock"></i>
                  <span>{{ translations.support247 }}</span>
                </div>
                <div class="feature-badge">
                  <i class="fas fa-lock"></i>
                  <span>{{ translations.ddosProtection }}</span>
                </div>
              </div>

              <a (click)="orderNow(server); $event.preventDefault()"
                 href="javascript:void(0)"
                 class="dedicated-order-btn"
                 [class.featured]="server.featured">
                <span>{{ translations.configureServer }}</span>
                <i class="fas fa-arrow-right"></i>
              </a>

              <div class="guarantee-text">
                <i class="fas fa-certificate"></i>
                <span>{{ translations.uptimeGuarantee }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <button class="carousel-btn-dedicated next-btn-dedicated" (click)="slideRight()">
        <i class="fas fa-chevron-right"></i>
      </button>

      <div class="dedicated-all-btn-wrapper">
        <a routerLink="/dedicated" class="dedicated-all-btn">
          <span>{{ translations.exploreAllDedicated }}</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </div>
</section>
