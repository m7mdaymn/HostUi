<section class="breadcumnd__banner">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6">
        <div class="banner__content">
          <h6>{{ text('promos') }}</h6>
          <h4>{{ text('choosePlan') }}</h4>
          <ul class="ssd__list">
            <li><span><i class="fa-solid fa-arrow-right"></i></span> <span>1 month pricing package</span></li>
            <li><span><i class="fa-solid fa-arrow-right"></i></span> <span>2 month pricing package</span></li>
            <li><span><i class="fa-solid fa-arrow-right"></i></span> <span>3 month pricing package</span></li>
          </ul>
          <a href="https://wa.me/+201063194547?text=Hello,%20I%27m%20interested%20in%20your%20hosting%20services!" class="cmn--btn border__trans">
            <span>{{ text('getStarted') }}</span>
          </a>
        </div>
      </div>
      <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6">
        <div class="banner__Thumb">
          <img src="assets/img/hosting/pricing.png" alt="hosting plans">
        </div>
      </div>
    </div>
  </div>
</section>

<section class="pricing-section">
  <div class="container">

    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
      <p>{{ text('loading') || 'Loading plans...' }}</p>
    </div>

    <div *ngIf="error && !loading" class="error-state">
      <i class="fas fa-exclamation-circle"></i>
      <h3>{{ text('error') || 'Something went wrong' }}</h3>
      <p>{{ error }}</p>
      <button class="retry-btn" (click)="retryLoadPromos()">{{ text('tryAgain') || 'Try Again' }}</button>
    </div>

    <div *ngIf="!loading && !error && promos.length" class="hosting-plans-grid">
      <div *ngFor="let promo of promos; let i = index" class="hosting-plan-card-wrapper" [class.featured]="isHighlighted(i)">
        <div class="hosting-plan-card" [class.featured]="isHighlighted(i)">
          <div class="hosting-popular-ribbon" *ngIf="isHighlighted(i)">
            <span>Most Popular</span>
          </div>
          <div class="hosting-card-body">
            <h3 class="hosting-plan-name">{{ promo.title }}</h3>
            <p class="hosting-plan-desc">{{ promo.description || 'Perfect hosting solution' }}</p>
            <div class="hosting-price-block">
              <div class="hosting-price-main">
                <sup class="currency">$</sup>
                <span class="amount">{{ promo.price || '2.99' }}</span>
                <sub class="period">/mo</sub>
              </div>
              <div class="hosting-price-note" *ngIf="promo.oldPrice">
                <del>${{ promo.oldPrice }}/mo</del>
                <span class="hosting-save-badge">Save {{ calculateSavePercent(promo.price, promo.oldPrice) }}%</span>
              </div>
            </div>
            <ul class="hosting-features-list" *ngIf="getFeatures(promo).length">
              <li *ngFor="let feature of getFeatures(promo)">
                <span class="check-icon"></span> {{ feature }}
              </li>
            </ul>
            <a [href]="getOrderLink(promo)" target="_blank" rel="noopener" class="hosting-order-btn" [class.featured]="isHighlighted(i)">
              <span>{{ text('orderNow') || 'Order Now' }}</span>
              <i class="fas fa-arrow-right"></i>
            </a>
            <div class="hosting-bonus">
              <span>30-day money-back guarantee</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="!loading && !error && !promos.length" class="empty-state">
      <p>{{ text('noPromos') || 'No plans available at the moment.' }}</p>
    </div>
  </div>
</section>

<section class="cta-section">
  <div class="container">
    <div class="cta-content">
      <h2>{{ text('needHelp') || 'Not Sure Which Plan?' }}</h2>
      <p>Our team is ready to help you choose the perfect plan</p>
      <a href="https://wa.me/+201063194547?text=Hello,%20I%20need%20help%20choosing%20a%20plan" target="_blank" rel="noopener" class="cta-button">
        <span>Chat With Us</span>
        <i class="fas fa-message"></i>
      </a>
    </div>
  </div>
</section>

<section class="vps-carousel-section">
  <div class="container">
    <div class="section-header">
      <h2>Powerful VPS Servers</h2>
      <p>High-performance virtual private servers built for speed and reliability</p>
    </div>

    <div *ngIf="vpsLoading" class="text-center py-5">
      <div class="spinner"></div>
      <p class="mt-3 text-muted">Loading VPS plans...</p>
    </div>

    <div *ngIf="!vpsLoading && !vpsError && vpsServers.length" class="vps-carousel-wrapper">
      <button class="carousel-btn prev-btn" (click)="slideLeft()" [disabled]="currentSlideIndex === 0">
        <i class="fas fa-chevron-left"></i>
      </button>

      <div class="vps-carousel-container">
        <div class="vps-carousel-track" [style.transform]="'translateX(-' + (currentSlideIndex * 100 / visibleItems) + '%)'">
          <div *ngFor="let vps of vpsServers" class="vps-card-hostinger">
            <div class="popular-badge" *ngIf="vps.featured">
              <span>Most Popular</span>
            </div>
            <div class="vps-card-body">
              <h3 class="vps-plan-name">{{ vps.name }}</h3>
              <p class="vps-plan-desc">{{ vps.description || 'High-performance VPS' }}</p>
              <div class="vps-price-block">
                <div class="price-main">
                  <sup class="currency">$</sup>
                  <span class="amount">{{ vps.price || '29' }}</span>
                  <sub class="period">/mo</sub>
                </div>
                <div class="price-note" *ngIf="vps.oldPrice">
                  <del>${{ vps.oldPrice }}/mo</del>
                  <span class="save">Save {{ calculateSavePercent(vps.price, vps.oldPrice) }}%</span>
                </div>
              </div>
              <ul class="vps-specs-list">
                <li><i class="fas fa-microchip"></i> <strong>{{ vps.cpu || '4' }}</strong> vCPU</li>
                <li><i class="fas fa-memory"></i> <strong>{{ vps.ram || '8 GB' }}</strong> RAM</li>
                <li><i class="fas fa-hdd"></i> <strong>{{ vps.storage || '160 GB' }}</strong> NVMe SSD</li>
                <li><i class="fas fa-arrow-up"></i> <strong>{{ vps.bandwidth || '4 TB' }}</strong> Transfer</li>
                <li><i class="fas fa-shield-alt"></i> DDoS Protection & Daily Backups</li>
              </ul>
              <a [href]="getVPSOrderLink(vps)" target="_blank" rel="noopener" class="vps-order-btn-hostinger" [class.featured]="vps.featured">
                <span>Get Started</span>
                <i class="fas fa-arrow-right"></i>
              </a>
              <div class="bonus-text">
                <i class="fas fa-check"></i> 30-day money-back guarantee
              </div>
            </div>
          </div>
        </div>
      </div>

      <button class="carousel-btn next-btn" (click)="slideRight()" [disabled]="currentSlideIndex >= vpsServers.length - visibleItems">
        <i class="fas fa-chevron-right"></i>
      </button>

      <div class="vps-all-btn-wrapper">
        <a routerLink="/vps" class="vps-all-btn">
          <span>View All VPS Servers</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </div>
</section>
